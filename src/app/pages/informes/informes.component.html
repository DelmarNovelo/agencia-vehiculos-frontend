<div class="p-6 bg-gray-50 min-h-screen">
  <h2 class="text-3xl font-bold text-gray-800 mb-6">Informes de Ventas</h2>

  <form [formGroup]="formGroup">
    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Fecha Inicio</label>
          <p-datepicker formControlName="startDate" dateFormat="dd/mm/yy" inputId="startDate"></p-datepicker>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Fecha Fin</label>
          <p-datepicker formControlName="endDate" dateFormat="dd/mm/yy" inputId="endDate"></p-datepicker>
        </div>
        <div class="flex items-end">
          <p-button label="Generar Informes" (onClick)="generateReports()"></p-button>
        </div>
      </div>
    </div>
  </form>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h5 class="text-xl font-semibold text-gray-800 mb-4">Reporte de Ventas</h5>
      <div *ngIf="salesReport" class="space-y-2">
        <p class="text-gray-600"><span class="font-medium">Total Ventas:</span> ${{ salesReport.totalSales }}</p>
        <p class="text-gray-600"><span class="font-medium">Total Transacciones:</span> {{ salesReport.totalTransactions
          }}</p>
      </div>
      <div *ngIf="!salesReport" class="text-gray-500">No hay datos disponibles</div>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
      <h5 class="text-xl font-semibold text-gray-800 mb-4">Cliente Top</h5>
      <div *ngIf="topClient" class="space-y-2">
        <p class="text-gray-600"><span class="font-medium">Cliente:</span> {{ topClient.clienteNombre }}</p>
        <p class="text-gray-600"><span class="font-medium">Total Ventas:</span> ${{ topClient.totalVentas }}</p>
      </div>
      <div *ngIf="!topClient" class="text-gray-500">No hay datos disponibles</div>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
      <h5 class="text-xl font-semibold text-gray-800 mb-4">Margen de Utilidad</h5>
      <div *ngIf="profitMargin" class="space-y-2">
        <p class="text-gray-600"><span class="font-medium">Utilidad:</span> ${{ profitMargin.profit }}</p>
        <p class="text-gray-600"><span class="font-medium">Margen:</span> {{ profitMargin.margin.toFixed(2) }}%</p>
        <p class="text-gray-600"><span class="font-medium">Ventas Totales:</span> ${{ profitMargin.totalSales }}</p>
        <p class="text-gray-600"><span class="font-medium">Compras Totales:</span> ${{ profitMargin.totalPurchases }}
        </p>
      </div>
      <div *ngIf="!profitMargin" class="text-gray-500">No hay datos disponibles</div>
    </div>
  </div>
</div>